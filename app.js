function getImgSizes(e){var t=Math.floor(Math.random()*e.query.results.photo.length);$.ajax({url:"https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=44dc754e6d95a8b83ddd89b136eb880e&photo_id="+e.query.results.photo[t].id+"&format=json&nojsoncallback=1",success:function(t){var o=t.sizes.size[t.sizes.size.length-2];console.log(JSON.stringify(o)),loadImg(o,e)}})}function loadImg(e,t){e.width>1200?$("<img/>").attr("src",e.source).on("load",function(){$(this).remove(),$("#bg").css("background-image","url("+e.source+")"),$("#loader_img").hide(),$("#bg").show()}):getImgSizes(t)}function getLocation(){$.ajax({url:"http://ip-api.com/json",success:function(e){getWeather(e),loadWeather(e)}})}function getWeather(e){console.log(e)}function loadWeather(e){$.ajax({url:"https://query.yahooapis.com/v1/public/yql?format=json&rnd=20175413&diagnostics=true&q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text=%22("+e.lat+","+e.lon+")%22)%20and%20u=%22f%22&_=1496953541797",success:function(e){html="<div>",html+='<h2><i class="icon-'+e.query.results.channel.item.condition.code+'"></i> '+e.query.results.channel.item.condition.temp+"&deg;"+e.query.results.channel.units.temperature+"</h2>",html+="<ul><li>"+e.query.results.channel.location.city+", "+e.query.results.channel.location.region+"</li>",html+='<li class="currently">'+e.query.results.channel.item.condition.text+"</li>",html+="<li>"+(parseFloat(e.query.results.channel.item.condition.temp-32)/1.8).toFixed(2)+"&deg;C</li></ul>",html+="</div>",$("#weather").html(html)},error:function(e){$("#weather").html("<p>"+e+"</p>")}})}$.ajax({url:"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20flickr.photos.interestingness(200)%20where%20api_key%3D%2244dc754e6d95a8b83ddd89b136eb880e%22%3B&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",success:function(e){getImgSizes(e)}}),getLocation();